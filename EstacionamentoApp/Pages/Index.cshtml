@page
@using EstacionamentoDomain.Entities
@model EstacionamentoApp.Pages.IndexModel
@{
    ViewData["Title"] = "Início";
}
<div class="container">
    <form method="GET">
        <div class="row">
            <div class="col-md-2">
                <label>Placa</label>
            </div>
            <div class="col-md-7">
                <input asp-for="placa" class="form-control" />
            </div>
            <div class="col-md-3">
                <button type="submit" class="btn btn-success">Pesquisar</button>
            </div>
        </div>
    </form>
    <br />
    <table class="table table-striped table-inverse table-responsive">
        <thead class="thead-inverse">
            <tr>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Placa")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Chegada")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Saída")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Duração")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Tempo cobrado")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Preço hora")</th>
                <th style="white-space: nowrap; width: 1%">@Html.DisplayName("Valor total")</th>
                <th style="white-space: nowrap; width: 1%">Saída | Editar | Deletar</th>
            </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Registros)
                {
                    <tr>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.Placa)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.Chegada)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.Saida)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.Duracao)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.TempoCobrado)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Preco)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @Html.DisplayFor(modelItem => item.ValorTotal)
                        </td>
                        <td style="white-space: nowrap; width: 1%">
                            @if (!item.Saida.HasValue)
                            {
                                <a asp-page="Registros/Edit" asp-route-id="@item.Id" onclick="return confirm('Marcar saída?');" asp-page-handler="Saida" >Saída |</a>
                            }
                            <a asp-page="Registros/Edit" asp-route-id="@item.Id">Edit</a> |
                            <a asp-page="/Index" onclick="return confirm('Tem certeza que deseja deletar?');" asp-page-handler="Delete" asp-route-id="@item.Id">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
    </table>
</div>